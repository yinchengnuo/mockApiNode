(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c82487a"],{"031b":function(t,e,A){},"8d55":function(t,e,A){"use strict";A.d(e,"f",(function(){return n})),A.d(e,"d",(function(){return o})),A.d(e,"b",(function(){return r})),A.d(e,"h",(function(){return c})),A.d(e,"e",(function(){return l})),A.d(e,"c",(function(){return i})),A.d(e,"a",(function(){return s})),A.d(e,"g",(function(){return u}));var a=A("b775"),n=function(t){return Object(a["a"])({url:"/role/all",method:"get",params:t})},o=function(t){return Object(a["a"])({url:"/role/del",method:"get",params:t})},r=function(t){return Object(a["a"])({url:"/role/add",method:"post",data:t})},c=function(t){return Object(a["a"])({url:"/role/update",method:"post",data:t})},l=function(t){return Object(a["a"])({url:"/account/all",method:"get",params:t})},i=function(t){return Object(a["a"])({url:"/account/del",method:"get",params:t})},s=function(t){return Object(a["a"])({url:"/account/add",method:"post",data:t})},u=function(t){return Object(a["a"])({url:"/account/update",method:"post",data:t})}},"92e6":function(t,e,A){"use strict";var a=A("031b"),n=A.n(a);n.a},e378:function(t,e,A){"use strict";A.r(e);var a=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"PageAccountManage"},[A("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{type:"primary"},on:{click:t.handleAddAccount}},[t._v("添加账号")]),A("el-table",{attrs:{data:t.list,border:""}},[A("el-table-column",{attrs:{align:"center",prop:"avatar",label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row,a=e.avatar,n=e.username;return[A("img",{staticClass:"avatar",attrs:{src:a,alt:n}})]}}])}),A("el-table-column",{attrs:{align:"center",prop:"username",label:"名称"}}),A("el-table-column",{attrs:{align:"center",prop:"introduction",label:"介绍"}}),A("el-table-column",{attrs:{align:"center",prop:"rolename",label:"角色"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row.rolename;return[A("router-link",{attrs:{to:{name:"AdminRole",params:{rolename:a}}}},[A("el-link",{attrs:{type:"primary"}},[t._v(t._s(a))])],1)]}}])}),A("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[A("el-button",{attrs:{type:"primary",disabled:"root"===e.row.role},on:{click:function(A){return t.handleEditAccount(e.row)}}},[t._v("修改账号信息")]),"root"===t.$store.state.user.role?A("el-button",{attrs:{type:"danger",disabled:"root"===e.row.role},on:{click:function(A){return t.handleDeleteAccount(e.row)}}},[t._v("删除账号")]):t._e()]}}])})],1),A("el-dialog",{attrs:{width:"321px",visible:t.dialogVisible,"close-on-click-modal":!1,"destroy-on-close":!0,title:"add"===t.dialogType?"添加账号":"编辑账号"},on:{"update:visible":function(e){t.dialogVisible=e}}},[A("el-form",{attrs:{model:t.account,"label-width":"48px","label-position":"left"}},[A("div",{staticStyle:{"text-align":"center","margin-bottom":"24px"}},[A("el-avatar",{directives:[{name:"img",rawName:"v-img.base64",value:function(e){var A=e[0];return t.account.avatar=A},expression:"([avatar]) => account.avatar = avatar",modifiers:{base64:!0}}],attrs:{size:66,src:t.account.avatar}})],1),A("el-form-item",{attrs:{label:"名称"}},[A("el-input",{attrs:{maxlength:"12",placeholder:"名称"},model:{value:t.account.username,callback:function(e){t.$set(t.account,"username",e)},expression:"account.username"}})],1),"add"===t.dialogType?A("el-form-item",{attrs:{label:"密码"}},[A("el-input",{attrs:{maxlength:"16",placeholder:"密码"},model:{value:t.account.password,callback:function(e){t.$set(t.account,"password",e)},expression:"account.password"}}),A("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.account.password=Date.now()}}},[t._v("生成")]),A("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.$copy(t.account.password)}}},[t._v("复制")])],1):t._e(),A("el-form-item",{attrs:{label:"简介"}},[A("el-input",{attrs:{type:"textarea",maxlength:"48",placeholder:"简介"},model:{value:t.account.introduction,callback:function(e){t.$set(t.account,"introduction",e)},expression:"account.introduction"}})],1),A("el-form-item",{attrs:{label:"角色"}},[A("el-select",{attrs:{placeholder:"请选择角色"},model:{value:t.account.rolename,callback:function(e){t.$set(t.account,"rolename",e)},expression:"account.rolename"}},t._l(t.roleNameList,(function(t,e){return A("el-option",{key:e,attrs:{label:t.rolename,value:t.rolename}})})),1)],1)],1),A("div",{staticStyle:{"text-align":"right"}},[A("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),A("el-button",{attrs:{type:"primary"},on:{click:t.confirmAccount}},[t._v("确定")])],1)],1)],1)},n=[],o=(A("d81d"),A("3835")),r="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAwICQoJBwwKCQoNDAwOER0TERAQESMZGxUdKiUsKyklKCguNEI4LjE/MigoOk46P0RHSktKLTdRV1FIVkJJSkf/2wBDAQwNDREPESITEyJHMCgwR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0f/wAARCADsAOwDASIAAhEBAxEB/8QAGgABAAMBAQEAAAAAAAAAAAAAAAMEBQECB//EADMQAAICAQEGBQMCBQUAAAAAAAABAgMEERIhMUFRYQUTIjJxQoGhUrEUFUNykSNTgpLh/8QAGAEBAAMBAAAAAAAAAAAAAAAAAAECAwT/xAAfEQEBAQEAAgMBAQEAAAAAAAAAAQIRAyESMUFREzL/2gAMAwEAAhEDEQA/APqoAAAAAAAABHbdXUtZy07cwW8SHmdkILWckvkz7s6ct1a2V15laUnJ6ybb7l5j+sdeWT6aFmfXH2Jy/BBPPtftUY/kqgvMxlfJqpJZF0uNkjw5yfGTf3OAtxXtoE2uDACHtW2R4TkvuSRzL4/Xr8ogBHImasXYeIP64f4LNeVTZwlo+j3GSCtxF55dRuAx6si2r2y3dHwLtOdCe6z0P8FLmxtnySrYOJ6rVHSrQAAAAAAAAAAAAADjaS1e5HJzjCLlJ6JGZk5Urnot0OnUtM9U1uZT5GdprGn/ALFKUnJ6ybb6s4DWSRza1dfYACVQAAACSGPdP21v77gmS1GCwsK/ov8AJyWHevo1+GR2J+Ov4gB2UJQekotfKOEqgAAAACajJspe56x6M0aL4XR1i9/NMyDsZShJSi9GuZW5laZ8ly2wVsXKVvpnun+5ZMrOOmWWdgACEgAAAAAeZzjCDlJ6JHW0lq+Bl5eQ7p6R9i4dy2Z1TevjHnIyJXz6RXBEQBt9OW3vugACAAACfHxZ3b/bHqesPG817c/YvyaSSS0W5FNa56jbHj77qOrHqqXpjv6slAMm8kn0AAJclFSWkkmu5UvwYvWVXpfTkXATLYrczX2xJRlCTjJaNcjhrZOPG+HSS4MypRcJOMlo0a511zbx8XAAWUAAAT0eqNHDyvMWxN+tcH1M4JtNNPRoizq2dXNbgK+JkK6Gj964lgxs465ezsAAQkAI77FVU5v7At4q59+n+lF/3FE7KTlJyb1bOG8nI49a+V6AAlUAAA901u22MFzPBe8Nh7rH8Ii3kWzO3i5CKhBRitEj0AYOwAAAAAAAAKXiFOsfNit64l08zipQcXwa0Jl5VdT5TjFB2UXGbi+T0OG7jAAAAAHqqyVVinHkbFc1ZBTjwZilvw+7Zn5cnulw+Sm53218euXjRABk6QzfELdq1VrhHj8mhZNQrlN8lqY0m5Scnxb1L4n6x8uuTjgANXOAAAAABqYK0xY99WZZq4T1xYFN/TXxf9JwAZOkAAAAAAAAAAGTmLZyp995CT5z1ypfYgN59OPX3QAEqgAABNpprigANiizzaYz68SQoeHWaSlW+e9F8w1OV2YvynVTxGezSoL6mZxa8Rlreo/pRVNcz05vJe6AAWUAAAAAA0fDp60OP6WZxPhW+Xek+EtzK6nYv47zTVABi6wAAAAAAAAAgy7fKob5vchPaLeTrNvlt3zl1Z4AOhxX2AAAAAAAA90T8u6MujNkwzYx5bdEJdjPcb+G/cZeTLayJvuRnZvWcn1Zw0jG+6AAIAAAAAAAAaeHkK2GzJ+uP5LJiRk4SUovRo0sbLjalGfpn+5lrP7HR4/J31VkAFGwAAAB5nONcdqbSQHZNRTbeiRlZV7ut1XtXA9ZWVK57Md0P3K5rnPPbm8m++oAAuyAAAAAAAADRwZr+H0fJszieizYg13K6nYvi8qAB7m0CygAAAAAAHquuVk1GC1YHknjh3Src9NOifFl3HxYUrV+qfXoWDO7/jfPi/rDaaejWjBq5GLC7f7ZdUZ92PZS/VHVdVwLTUrPWLl6qy7a92u0ujLMPEK374yj+TPAuZSb1Gosyj9f4ZyWdQuDb+EZgI+EW/10uWeISe6uGndlWyydktZybZ5EU5PSKbfYtJIpdXX2EtGPO9+nclzZPRgt+q7cv0ovxjGEVGKSS5Fbv+NMeO33WPbVOqWk46d+R4NqcIzi4ySaZn5OI6tZ174dOaGdd+0b8dnuKoALsgAAAAAGoPUY7S1A7ctm6a7s8E+bHZypd95ARPpOpygAJQAHYRc5KMVq2B6qqlbNRgv/AA1KKY0w2Y8eb6jHojRXot7fFkpjrXXVjHx90ABVoHDoAgsxKbN7jo+q3EEvD19Nj+6LwJmrFLjN/Gd/L7P1xOrw+XOxfZGgCfnUf55VIYFS9zcvwWIVwrWkIpfB7BFtq0zJ9AAIWAABn5mJs62VLdzRTNwzc3G8uXmQXpfHsaZ1+Vz+THPcVQAaMQAAC5h17VLfcpmrhR2cWPfeV1eRp452q/iUN8J/YpGtl1+ZjyS4rejJIxfR5ZzQAC7MNHBo2IeZJeqXDsijTsu6G37dd5sFN38beLPfboAMnQAAAAAAAAAAAAAAAAAAAclFTi4yWqZ0AY99TptcXw5PsRmh4io+VFv3a7jPNs3scm8/G8AAWUIrakkuZtQjswUVyWhm4Ne3kJ8o7zUMt10eKeuhj5NflXyjy4o2Cpn07dW2lvj+xGbyreTPYzgAbOUNPCv82rZk/VEzD1VZKqxTjy/JXU7F8a+NbQPFVkba1OL3M9mLrAAAAAAAAAAAAAAAAAAAON6LV8DpRzsj+lB/3MmTqutTM6rZV3nXNr2rciIA3npyW9vQAkx6nbco8ufwCTq9gVbFO0+Mt/2LRxJJJLgjphb2uzM5OBxrVaM6CEsnKpdNrX0veiE18ilXVOL48mZMouEnGS0aNs3scvkz8a4ACzNLjXyonqt8XxRq1zjZBSg9UzFJKL50y1jvXNdSms9a438fVbAIqb4XR1i9/NEpk6Je/QAAkAAAAAAAAAAAHG0lq9xSyc3jCl/MiZOq61M/b3l5SrThW9Z830M4A2k45dauqAAlUNPCo8qrakvVL8FbBx9uXmTXpXDuzSM938b+LP7QAGbcAAArZmN5sduC9a/JZBMvEWSzlYbWj0YNHLxVZ6690+a6mc009GtGjaXrk1m5oACVXYycZaxbTXNFynP03XL/AJIpAiyVbOrn6bULIWLWEk12PRiRk4vWLafYsV5t0fdpNdzO4/jaeWfrTBTj4hB++El8byRZlD+vT5RX41pN5v6sAh/iqP8AciHlUL+ohyp+U/qYFWWdSuG1L4RDPxCT9kEvkn41W+TM/WgV7suqrcntS6Iz7L7bPdN6dERlpj+s9eX+Jb8my7c3pHoiIA05xjbb9gACAmxsd3z6RXFjGx5Xy6RXFmpCEa4KMFokU1rjXGO+67GKjFRitEjoBk6QAAAAAAAAr5ONG5ardPqWATLxFkvqsWyqdUtma0PJtWVxsjszSaKF+DKO+r1LpzNJvv259eOz6VAGmno1owXZAAAAAAAAAAAAAAASVUWWv0R3deQTJ1GWsbDlPSVnpj05ss0YkKvVL1S/Ysmd3/G2fF+1yMVGKjFaJcjoBm3AAAAAAAAAAAAAAAAR2012r1xT78ypbgNb6pa9mXwTNWK3E19sadNlfvg0eDcI50VT91cX9i82yvh/lY4NGzCp01SkvuVbaYw4Nl5esrmxAA+J6hFSe8lV5Bcqxa5cXL/JZjiUR+jX5K3Ui8xayknJ6JN/BYrw7p8VsruaUYxitIxS+Eeil21nin6q1YVcN8/W+/AspJLRLRHQVttaySfQACEgAAAAAAAP/9k=",c=A("8d55"),l={userID:"",avatar:r,password:"",username:"",introduction:"",rolename:""},i={name:"PageAccountManage",props:{},data:function(){return{account:l,list:[],roleList:[],dialogType:"",dialogVisible:!1}},computed:{roleNameList:function(){return this.roleList.map((function(t){return{rolename:t.rolename,roleID:t.roleID}}))}},mounted:function(){this.getAccountRole()},methods:{getAccountRole:function(){var t=this;this.$request([Object(c["e"])(),Object(c["f"])()],(function(e){var A=Object(o["a"])(e,2),a=A[0],n=A[1];t.list=a.list,t.roleList=n.list}))},handleAddAccount:function(){this.account=Object.assign({},l),this.dialogType="add",this.dialogVisible=!0},handleEditAccount:function(t){var e=t.userID,A=t.avatar,a=t.username,n=t.introduction,o=t.rolename;this.account=Object.assign({},{userID:e,avatar:A,username:a,introduction:n,rolename:o}),this.dialogType="edit",this.dialogVisible=!0},confirmAccount:function(){var t=this;this.account.username?"add"!==this.dialogType||this.account.password?this.account.rolename?this.account.avatar.length/1024>1024?this.$message.info({message:"头像尺寸过大（base编码后大于 1M）"}):"add"===this.dialogType?this.$request(Object(c["a"])(this.account),(function(e){t.$notify.success({title:"添加成功",message:"账号名: "+t.account.username}),t.getAccountRole(),t.dialogVisible=!1}),{endStillLoading:!0}):this.$request(Object(c["g"])(this.account),(function(e){t.$notify.success({title:"编辑成功",message:"账号名: "+t.account.username}),t.getAccountRole(),t.dialogVisible=!1}),{endStillLoading:!0}):this.$message.info({message:"请设置角色"}):this.$message.info({message:"请设置密码"}):this.$message.info({message:"请设置名称"})},handleDeleteAccount:function(t){var e=this,A=t.userID;this.$confirm("确定要删除当前账号？","确定操作",{type:"warning"}).then((function(){e.$request(Object(c["c"])({userID:A}),(function(t){e.$message.success("删除成功"),e.getAccountRole()}),{endStillLoading:!0})})).catch((function(t){return t}))}}},s=i,u=(A("92e6"),A("2877")),d=Object(u["a"])(s,a,n,!1,null,"a8f1499e",null);e["default"]=d.exports}}]);