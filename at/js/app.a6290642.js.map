{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?f061","webpack:///./src/components/At/At.vue?1224","webpack:///./src/App.vue","webpack:///./src/components/At/At.vue","webpack:///./src/components/At/list.ts","webpack:///./src/components/At/At.vue?2f9b","webpack:///./src/components/At/At.vue?4f80","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","header","unAtList","item","id","visible","state","popper-class","trigger","default","close","size","select","reference","ref","contenteditable","input","click","inputing","refAtInput","focus","atedList","send","className","setup","focusNode","focusOffset","inputed","observer","atIds","list","filter","e","includes","lock","open","selection","getSelection","range","getRangeAt","pos","getBoundingClientRect","blur","x","y","height","document","getElementsByClassName","style","transform","selectNode","setEnd","collapse","setStart","deleteContents","element","createElement","dataset","contentEditable","innerText","insertNode","target","innerHTML","localStorage","getItem","MutationObserver","mutationsList","addElements","Array","from","map","addedNodes","flat","tagName","addAtIds","forEach","delElements","removedNodes","delAtIds","indexOf","alert","location","reload","observe","subtree","childList","attributes","characterData","attributeOldValue","characterDataOldValue","disconnect","trim","console","log","setItem","render","__scopeId","components","At","App","use","mount"],"mappings":"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","file":"js/app.a6290642.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/at/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=831b1be6&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./At.vue?vue&type=style&index=0&id=a29673c6&lang=scss&scoped=true\"","<template>\n  <At />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport At from './components/At/At.vue'\n\nexport default defineComponent({\n  name: 'App',\n  components: { At }\n})\n</script>\n\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\nhtml,\nbody,\n#app {\n  height: 100%;\n}\n.flex {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.flexc {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n}\n.flex1 {\n  flex: 1;\n}\n.w100 {\n  width: 100%;\n}\n.h100 {\n  height: 100%;\n}\n.flex_fs {\n  justify-content: flex-start;\n}\n.flex_fe {\n  justify-content: flex-end;\n}\n.flex_sb {\n  justify-content: space-between;\n}\n.flex_sa {\n  justify-content: space-around;\n}\n.flex_se {\n  justify-content: space-evenly;\n}\n.flex_c_fs {\n  align-items: flex-start;\n}\n.flex_c_fe {\n  align-items: flex-end;\n}\n.flex_c_sb {\n  align-items: space-between;\n}\n.flex_c_sa {\n  align-items: space-around;\n}\n.flex_c_se {\n  align-items: space-evenly;\n}\n.bb {\n  box-sizing: border-box;\n}\n.p8 {\n  padding: 8px;\n}\n</style>\n","<template>\n  <div class=\"at\">\n    <div class=\"tipList\">\n      <el-card header=\"实现效果\">\n        <ul>\n          <li>在文字任意任意地方输入@都会弹出选择人员弹窗</li>\n          <li>选择人员后展示 @名称 ，并显示自定义颜色</li>\n          <li>修改/删除 @名称 中的任意一个字符，删除 @名称</li>\n          <li>光标不可游走 @名称 其中</li>\n          <li>@名称 只能整体被选中</li>\n          <li>@选择人员实时映射到数据</li>\n          <li>\n            XSS注意同时仅允许用户通过输入、粘贴饿形式修改输入内容（通过console、element面板修改无效）\n          </li>\n        </ul>\n      </el-card>\n    </div>\n    <div class=\"unAtList\">\n      <el-card header=\"可选人员\">\n        <el-tag v-for=\"item in unAtList\" :key=\"item.id\">{{ item.name }}</el-tag>\n      </el-card>\n    </div>\n    <div class=\"atArea\">\n      <el-card>\n        <div class=\"atInputWrapper\">\n          <el-popover\n            v-model:visible=\"state.visible\"\n            popper-class=\"atPopover\"\n            trigger=\"manual\"\n          >\n            <template #default>\n              <el-card>\n                <template #header>\n                  <div class=\"flex flex_sb\">\n                    <span>@谁</span>\n                    <i class=\"el-icon-close\" @click=\"close\" />\n                  </div>\n                </template>\n                <div\n                  v-for=\"item in unAtList\"\n                  :key=\"item.id\"\n                  class=\"flex flex_sb bb p8\"\n                >\n                  <span>{{ item.name }}</span>\n                  <el-button size=\"mini\" @click=\"select(item)\">选择</el-button>\n                </div>\n              </el-card>\n            </template>\n            <template #reference>\n              <div\n                id=\"atInput\"\n                ref=\"refAtInput\"\n                contenteditable=\"plaintext-only\"\n                @input=\"input\"\n                @focus=\"state.visible = false\"\n                @click=\"click\"\n              />\n            </template>\n          </el-popover>\n          <div\n            v-if=\"!state.inputing\"\n            class=\"placeholder\"\n            @click.stop=\"() => refAtInput.focus()\"\n          >\n            请输入文字信息\n          </div>\n        </div>\n      </el-card>\n    </div>\n    <div class=\"atedList\">\n      <el-card header=\"已选人员\" size=\"mini\">\n        <el-tag v-for=\"item in atedList\" :key=\"item.id\">{{ item.name }}</el-tag>\n      </el-card>\n    </div>\n    <div class=\"send flex flex_sb flex_c_fs\">\n      <el-card header=\"发送内容\">{{ state.send || '请点击发送' }}</el-card>\n      <el-button @click=\"send\">发送</el-button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport list, { Item } from './list'\nimport {\n  ref,\n  reactive,\n  computed,\n  nextTick,\n  onMounted,\n  defineComponent,\n  onBeforeUnmount\n} from 'vue'\n\nconst className = '__at_span'\nexport default defineComponent({\n  name: 'At',\n  setup () {\n    const refAtInput = ref()\n    const state = reactive({\n      send: '',\n      inputing: '', // 实时输入内容\n      focusNode: {} as Node, // 缓存光标所在节点\n      focusOffset: 0, // 缓存光标所在位置\n      inputed: false, // 输入框内容是否是常规输入\n      visible: false, // 是否显示选择人员弹窗\n      observer: {} as MutationObserver, // dom 监听器\n      atIds: [] as Array<string> // @ 的人员id\n    })\n\n    // 可选人员列表\n    const atedList = computed(() =>\n      list.filter(e => state.atIds.includes(e.id))\n    )\n\n    // 已选人员列表\n    const unAtList = computed(() =>\n      list.filter(e => !state.atIds.includes(e.id))\n    )\n\n    // lock，用于标记内容修改是在常规修改（在输入框输入或粘贴）还是通过其他方式修改（浏览器控制台修改）\n    const lock = () => {\n      state.inputed = true\n      nextTick(() => {\n        state.inputed = false\n      })\n    }\n\n    // 打开选择框\n    const open = () => {\n      const selection = window.getSelection() as Selection\n      const range = selection?.getRangeAt(0) as Range\n      // 缓存光标所在节点\n      state.focusNode = selection?.focusNode as Node\n      // 缓存光标所在节点位置\n      state.focusOffset = selection?.focusOffset as number\n      // 光标所在位置\n      const pos = range.getBoundingClientRect() as DOMRect\n      // 显示选择框\n      state.visible = true\n      // 输入框失去焦点\n      refAtInput.value.blur()\n      // 设置弹窗位置\n      nextTick(() => {\n        const x = pos.x > 75 ? pos.x - 75 : 0\n        const y = pos.y + pos?.height + 8\n        const s = document.getElementsByClassName('atPopover')[0] as HTMLElement\n        s.style.transform = `translate3d(${x}px, ${y}px, 0px)`\n      })\n    }\n\n    // 关闭选择框\n    const close = () => {\n      // 关闭选择框\n      state.visible = false\n      const selection = window.getSelection()\n      const range = selection?.getRangeAt(0) as Range\n      // 选中节点\n      range.selectNode(state.focusNode)\n      // 设置终点\n      range.setEnd(state.focusNode, state.focusOffset)\n      // 移动到终点\n      range.collapse()\n      // 聚焦输入框\n      refAtInput.value.focus()\n    }\n\n    // 选择 @\n    const select = (item: Item) => {\n      const selection = window.getSelection()\n      const range = selection?.getRangeAt(0) as Range\n      // 选中输入的 @ 符\n      range.setStart(state.focusNode, state.focusOffset - 1)\n      range.setEnd(state.focusNode, state.focusOffset)\n      // 删除输入的 @ 符\n      range.deleteContents()\n      // 创建元素节点\n      const element = document.createElement('SPAN')\n      element.className = className\n      element.dataset.id = item.id\n      element.contentEditable = 'false'\n      element.innerText = `@${item.name}`\n      // 选中元素节点\n      range.insertNode(element)\n      // 光标移动到末尾\n      range.collapse()\n      // 聚焦输入框\n      refAtInput.value.focus()\n      // 关闭选择框\n      state.visible = false\n      // 标记为常规修改\n      lock()\n    }\n\n    // 输入监听\n    const input = (e: InputEvent) => {\n      // 标记内容修改为常规输入\n      lock()\n      // 实时输入框的保存\n      state.inputing = (e.target as Element).innerHTML\n      // 如果触发 @\n      if (e.data === '@') {\n        // 打开选择弹窗\n        open()\n      }\n    }\n\n    // 点击 @ 选中\n    const click = ({ target }: MouseEvent) => {\n      if ((target as HTMLElement).className === className) {\n        const selection = window.getSelection()\n        const range = selection?.getRangeAt(0) as Range\n        range.selectNode(target as Node)\n      }\n    }\n\n    // 粘贴处理（ webkit 浏览器可以用 contenteditable=\"plaintext-only\" 设置 contenteditable 粘贴文字，此方法可以用于火狐浏览器 hack，缺点 Ctrl + Z 无效）\n    // const paste = (e: ClipboardEvent) => {\n    //   // 获取到粘贴的纯文本\n    //   const data = e.clipboardData?.getData(\"text/plain\")\n    //   // 获取 selection 对象\n    //   const selection = window.getSelection()\n    //   // 获取 range 对象\n    //   const range = selection?.getRangeAt(0)\n    //   // 如果此时有文字选中\n    //   if (range?.toString()) {\n    //     // 删除选中内容\n    //     range?.deleteContents()\n    //   }\n    //   // 生成文本节点\n    //   const text = document.createTextNode(data || \"\")\n    //   // 从当前光标位置插入文本节点（插入后默认选中）\n    //   range?.insertNode(text)\n    //   // 取消选中状态将光标移动至选中最后\n    //   selection?.collapseToEnd()\n    //   // 触发 input 保存文本数据\n    //   state.inputing = (e.target as HTMLElement).innerHTML\n    //   // 阻止默认事件\n    //   e.preventDefault()\n    //   return false\n    // }\n\n    onMounted(() => {\n      if (localStorage.getItem('send')) {\n        refAtInput.value.innerHTML = state.inputing =\n          localStorage.getItem('send') || ''\n      }\n      // 自动聚焦\n      refAtInput.value.focus()\n      state.observer = new MutationObserver(mutationsList => {\n        if (state.inputed) {\n          // 添加的元素\n          const addElements = Array.from(\n            mutationsList.map(e => Array.from(e.addedNodes))\n          )\n            .flat()\n            .filter(e => (e as HTMLElement).tagName) as Array<HTMLElement>\n          // 添加的 @姓名 元素\n          const addAtIds = addElements\n            .filter(e => e.tagName === 'SPAN' && e.className === className)\n            .map(e => e.dataset.id) as Array<string>\n          // 添加 @\n          addAtIds.forEach(\n            id => !state.atIds.includes(id) && state.atIds.push(id)\n          )\n          // 删除的元素\n          const delElements = Array.from(\n            mutationsList.map(e => Array.from(e.removedNodes))\n          )\n            .flat()\n            .filter(e => (e as HTMLElement).tagName) as Array<HTMLElement>\n          const delAtIds = delElements\n            .filter(e => e.tagName === 'SPAN' && e.className === className)\n            .map(e => e.dataset.id) as Array<string>\n          delAtIds.forEach(\n            id =>\n              state.atIds.indexOf(id) > -1 &&\n              state.atIds.splice(state.atIds.indexOf(id), 1)\n          )\n        } else {\n          alert('非法修改')\n          window.location.reload()\n        }\n      })\n      state.observer.observe(refAtInput.value, {\n        subtree: true, // 监听所有后代节点\n        childList: true, // 监听后代节点增加删除\n        attributes: true, // 监听属性\n        characterData: true, // 监听字符数据变化\n        attributeOldValue: true, // 记录变化前属性值\n        characterDataOldValue: true // 记录变化前字符值\n      })\n    })\n\n    onBeforeUnmount(() => {\n      state.observer.disconnect()\n    })\n\n    // 点击发送\n    const send = () => {\n      state.send = refAtInput.value.innerHTML.trim()\n      console.log(refAtInput.value.innerHTML)\n      localStorage.setItem('send', state.send)\n    }\n\n    return {\n      send,\n      state,\n      close,\n      input,\n      click,\n      select,\n      atedList,\n      unAtList,\n      refAtInput\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './at.scss';\n::v-deep {\n  .__at_span {\n    color: red;\n    font-weight: bolder;\n  }\n}\n</style>\n","export interface Item {\n  id: string\n  name: string\n}\n\nexport default [\n  { id: '1', name: '张三' },\n  { id: '2', name: '李四' },\n  { id: '3', name: '王五' },\n  { id: '4', name: '赵六' }\n]\n","\nimport list, { Item } from './list'\nimport {\n  ref,\n  reactive,\n  computed,\n  nextTick,\n  onMounted,\n  defineComponent,\n  onBeforeUnmount\n} from 'vue'\n\nconst className = '__at_span'\nexport default defineComponent({\n  name: 'At',\n  setup () {\n    const refAtInput = ref()\n    const state = reactive({\n      send: '',\n      inputing: '', // 实时输入内容\n      focusNode: {} as Node, // 缓存光标所在节点\n      focusOffset: 0, // 缓存光标所在位置\n      inputed: false, // 输入框内容是否是常规输入\n      visible: false, // 是否显示选择人员弹窗\n      observer: {} as MutationObserver, // dom 监听器\n      atIds: [] as Array<string> // @ 的人员id\n    })\n\n    // 可选人员列表\n    const atedList = computed(() =>\n      list.filter(e => state.atIds.includes(e.id))\n    )\n\n    // 已选人员列表\n    const unAtList = computed(() =>\n      list.filter(e => !state.atIds.includes(e.id))\n    )\n\n    // lock，用于标记内容修改是在常规修改（在输入框输入或粘贴）还是通过其他方式修改（浏览器控制台修改）\n    const lock = () => {\n      state.inputed = true\n      nextTick(() => {\n        state.inputed = false\n      })\n    }\n\n    // 打开选择框\n    const open = () => {\n      const selection = window.getSelection() as Selection\n      const range = selection?.getRangeAt(0) as Range\n      // 缓存光标所在节点\n      state.focusNode = selection?.focusNode as Node\n      // 缓存光标所在节点位置\n      state.focusOffset = selection?.focusOffset as number\n      // 光标所在位置\n      const pos = range.getBoundingClientRect() as DOMRect\n      // 显示选择框\n      state.visible = true\n      // 输入框失去焦点\n      refAtInput.value.blur()\n      // 设置弹窗位置\n      nextTick(() => {\n        const x = pos.x > 75 ? pos.x - 75 : 0\n        const y = pos.y + pos?.height + 8\n        const s = document.getElementsByClassName('atPopover')[0] as HTMLElement\n        s.style.transform = `translate3d(${x}px, ${y}px, 0px)`\n      })\n    }\n\n    // 关闭选择框\n    const close = () => {\n      // 关闭选择框\n      state.visible = false\n      const selection = window.getSelection()\n      const range = selection?.getRangeAt(0) as Range\n      // 选中节点\n      range.selectNode(state.focusNode)\n      // 设置终点\n      range.setEnd(state.focusNode, state.focusOffset)\n      // 移动到终点\n      range.collapse()\n      // 聚焦输入框\n      refAtInput.value.focus()\n    }\n\n    // 选择 @\n    const select = (item: Item) => {\n      const selection = window.getSelection()\n      const range = selection?.getRangeAt(0) as Range\n      // 选中输入的 @ 符\n      range.setStart(state.focusNode, state.focusOffset - 1)\n      range.setEnd(state.focusNode, state.focusOffset)\n      // 删除输入的 @ 符\n      range.deleteContents()\n      // 创建元素节点\n      const element = document.createElement('SPAN')\n      element.className = className\n      element.dataset.id = item.id\n      element.contentEditable = 'false'\n      element.innerText = `@${item.name}`\n      // 选中元素节点\n      range.insertNode(element)\n      // 光标移动到末尾\n      range.collapse()\n      // 聚焦输入框\n      refAtInput.value.focus()\n      // 关闭选择框\n      state.visible = false\n      // 标记为常规修改\n      lock()\n    }\n\n    // 输入监听\n    const input = (e: InputEvent) => {\n      // 标记内容修改为常规输入\n      lock()\n      // 实时输入框的保存\n      state.inputing = (e.target as Element).innerHTML\n      // 如果触发 @\n      if (e.data === '@') {\n        // 打开选择弹窗\n        open()\n      }\n    }\n\n    // 点击 @ 选中\n    const click = ({ target }: MouseEvent) => {\n      if ((target as HTMLElement).className === className) {\n        const selection = window.getSelection()\n        const range = selection?.getRangeAt(0) as Range\n        range.selectNode(target as Node)\n      }\n    }\n\n    // 粘贴处理（ webkit 浏览器可以用 contenteditable=\"plaintext-only\" 设置 contenteditable 粘贴文字，此方法可以用于火狐浏览器 hack，缺点 Ctrl + Z 无效）\n    // const paste = (e: ClipboardEvent) => {\n    //   // 获取到粘贴的纯文本\n    //   const data = e.clipboardData?.getData(\"text/plain\")\n    //   // 获取 selection 对象\n    //   const selection = window.getSelection()\n    //   // 获取 range 对象\n    //   const range = selection?.getRangeAt(0)\n    //   // 如果此时有文字选中\n    //   if (range?.toString()) {\n    //     // 删除选中内容\n    //     range?.deleteContents()\n    //   }\n    //   // 生成文本节点\n    //   const text = document.createTextNode(data || \"\")\n    //   // 从当前光标位置插入文本节点（插入后默认选中）\n    //   range?.insertNode(text)\n    //   // 取消选中状态将光标移动至选中最后\n    //   selection?.collapseToEnd()\n    //   // 触发 input 保存文本数据\n    //   state.inputing = (e.target as HTMLElement).innerHTML\n    //   // 阻止默认事件\n    //   e.preventDefault()\n    //   return false\n    // }\n\n    onMounted(() => {\n      if (localStorage.getItem('send')) {\n        refAtInput.value.innerHTML = state.inputing =\n          localStorage.getItem('send') || ''\n      }\n      // 自动聚焦\n      refAtInput.value.focus()\n      state.observer = new MutationObserver(mutationsList => {\n        if (state.inputed) {\n          // 添加的元素\n          const addElements = Array.from(\n            mutationsList.map(e => Array.from(e.addedNodes))\n          )\n            .flat()\n            .filter(e => (e as HTMLElement).tagName) as Array<HTMLElement>\n          // 添加的 @姓名 元素\n          const addAtIds = addElements\n            .filter(e => e.tagName === 'SPAN' && e.className === className)\n            .map(e => e.dataset.id) as Array<string>\n          // 添加 @\n          addAtIds.forEach(\n            id => !state.atIds.includes(id) && state.atIds.push(id)\n          )\n          // 删除的元素\n          const delElements = Array.from(\n            mutationsList.map(e => Array.from(e.removedNodes))\n          )\n            .flat()\n            .filter(e => (e as HTMLElement).tagName) as Array<HTMLElement>\n          const delAtIds = delElements\n            .filter(e => e.tagName === 'SPAN' && e.className === className)\n            .map(e => e.dataset.id) as Array<string>\n          delAtIds.forEach(\n            id =>\n              state.atIds.indexOf(id) > -1 &&\n              state.atIds.splice(state.atIds.indexOf(id), 1)\n          )\n        } else {\n          alert('非法修改')\n          window.location.reload()\n        }\n      })\n      state.observer.observe(refAtInput.value, {\n        subtree: true, // 监听所有后代节点\n        childList: true, // 监听后代节点增加删除\n        attributes: true, // 监听属性\n        characterData: true, // 监听字符数据变化\n        attributeOldValue: true, // 记录变化前属性值\n        characterDataOldValue: true // 记录变化前字符值\n      })\n    })\n\n    onBeforeUnmount(() => {\n      state.observer.disconnect()\n    })\n\n    // 点击发送\n    const send = () => {\n      state.send = refAtInput.value.innerHTML.trim()\n      console.log(refAtInput.value.innerHTML)\n      localStorage.setItem('send', state.send)\n    }\n\n    return {\n      send,\n      state,\n      close,\n      input,\n      click,\n      select,\n      atedList,\n      unAtList,\n      refAtInput\n    }\n  }\n})\n","import { render } from \"./At.vue?vue&type=template&id=a29673c6&scoped=true\"\nimport script from \"./At.vue?vue&type=script&lang=ts\"\nexport * from \"./At.vue?vue&type=script&lang=ts\"\n\nimport \"./At.vue?vue&type=style&index=0&id=a29673c6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-a29673c6\"\n\nexport default script","\nimport { defineComponent } from 'vue'\nimport At from './components/At/At.vue'\n\nexport default defineComponent({\n  name: 'App',\n  components: { At }\n})\n","import { render } from \"./App.vue?vue&type=template&id=831b1be6\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=831b1be6&lang=css\"\nscript.render = render\n\nexport default script","import App from './App.vue'\nimport { createApp } from 'vue'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/lib/theme-chalk/index.css'\n\ncreateApp(App)\n  .use(ElementPlus)\n  .mount('#app')\n"],"sourceRoot":""}